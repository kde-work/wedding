<?phpfunction wb_has_settings_shortcode( $atts, $content = null ) {	if ( is_user_logged_in() && !is_null( $content ) && !is_feed() ) {		$is_settings_made = $redirect_url = 0;		$message = '';		extract( shortcode_atts( array(				'is_settings_made' => '1',				'redirect_url' => '',				'message' => ''			), $atts )		);		$user_id = wp_get_current_user()->ID;		$wb_bride = get_user_meta($user_id, 'wb_bride', 1);		$wb_groom = get_user_meta($user_id, 'wb_groom', 1);		$wb_date = get_user_meta($user_id, 'wb_date', 1);		$wb_total = get_user_meta($user_id, 'wb_total_input', 1);		if (!$is_settings_made) {			if (!$wb_bride OR !$wb_groom OR !$wb_date OR !$wb_total) {				return do_shortcode($content);			} else {				if ($redirect_url) {					return "<style>body{display: none;}</style><script>window.location.replace('$redirect_url');</script>";				}				return $message;			}		} else {			if ($wb_bride AND $wb_groom AND $wb_date AND $wb_total) {				return do_shortcode($content);			} else {				if ($redirect_url) {					return "<style>body{display: none;}</style><script>window.location.replace('$redirect_url');</script>";				}				return $message;			}		}	}	return '';}add_shortcode( 'wb_has_settings', 'wb_has_settings_shortcode' );